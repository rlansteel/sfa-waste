2025-05-12 12:24:46,523 - INFO - SFA_ProfileGenerator - [main:390] - Nivel de logging: INFO
2025-05-12 12:24:46,547 - INFO - SFA_ProfileGenerator - [create_db_connection:49] - Conectando a la base de datos: output/db/waste_data_clean.db
2025-05-12 12:24:46,547 - INFO - SFA_ProfileGenerator - [create_db_connection:56] - Conexión a BD establecida.
2025-05-12 12:24:46,547 - INFO - SFA_ProfileGenerator - [get_entity_base_data:63] - Buscando datos base para country con identificador: PER
2025-05-12 12:24:46,548 - INFO - SFA_ProfileGenerator - [get_entity_base_data:83] - Datos base encontrados para country PER.
2025-05-12 12:24:46,548 - INFO - SFA_ProfileGenerator - [get_relevant_web_findings:93] - Buscando hallazgos web relevantes para country_id: 153
2025-05-12 12:24:46,549 - INFO - SFA_ProfileGenerator - [get_relevant_web_findings:105] - Encontrados 18 hallazgos web relevantes.
2025-05-12 12:24:46,549 - INFO - SFA_ProfileGenerator - [generate_profile:285] - Generando sección: generation_context para Peru...
2025-05-12 12:24:46,550 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'generation_context' (Prompt con longitud: 24506)...
/Users/rafaellang/Library/Mobile Documents/com~apple~CloudDocs/Python/sfa_waste/sfa_profile_generator.py:213: DeprecationWarning: The model 'claude-3-sonnet-20240229' is deprecated and will reach end-of-life on July 21st, 2025.
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.
  message = llm_client.messages.create(
2025-05-12 12:24:52,918 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'generation_context'.
2025-05-12 12:24:53,924 - INFO - SFA_ProfileGenerator - [generate_profile:285] - Generando sección: waste_stream_composition para Peru...
2025-05-12 12:24:53,924 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'waste_stream_composition' (Prompt con longitud: 24596)...
/Users/rafaellang/Library/Mobile Documents/com~apple~CloudDocs/Python/sfa_waste/sfa_profile_generator.py:213: DeprecationWarning: The model 'claude-3-sonnet-20240229' is deprecated and will reach end-of-life on July 21st, 2025.
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.
  message = llm_client.messages.create(
2025-05-12 12:24:58,430 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'waste_stream_composition'.
2025-05-12 12:24:59,436 - INFO - SFA_ProfileGenerator - [generate_profile:285] - Generando sección: collection_and_transport para Peru...
2025-05-12 12:24:59,437 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'collection_and_transport' (Prompt con longitud: 24526)...
2025-05-12 12:25:05,099 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'collection_and_transport'.
2025-05-12 12:25:06,105 - INFO - SFA_ProfileGenerator - [generate_profile:285] - Generando sección: treatment_and_disposal para Peru...
2025-05-12 12:25:06,106 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'treatment_and_disposal' (Prompt con longitud: 24645)...
2025-05-12 12:25:12,160 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'treatment_and_disposal'.
2025-05-12 12:25:13,165 - INFO - SFA_ProfileGenerator - [generate_profile:285] - Generando sección: recycling_and_recovery_initiatives para Peru...
2025-05-12 12:25:13,166 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'recycling_and_recovery_initiatives' (Prompt con longitud: 24601)...
2025-05-12 12:25:21,171 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'recycling_and_recovery_initiatives'.
2025-05-12 12:25:22,177 - INFO - SFA_ProfileGenerator - [generate_profile:285] - Generando sección: policy_and_governance para Peru...
2025-05-12 12:25:22,178 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'policy_and_governance' (Prompt con longitud: 24498)...
2025-05-12 12:25:27,395 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'policy_and_governance'.
2025-05-12 12:25:28,399 - INFO - SFA_ProfileGenerator - [generate_profile:309] - Generando secciones de síntesis (overall_summary, overall_assessment) para Peru...
2025-05-12 12:25:28,399 - INFO - SFA_ProfileGenerator - [call_llm:207] - Llamando a LLM (claude-3-sonnet-20240229) para la sección 'synthesis_overall' (Prompt con longitud: 29674)...
2025-05-12 12:25:36,627 - INFO - SFA_ProfileGenerator - [call_llm:232] - Respuesta JSON parseada exitosamente para 'synthesis_overall'.
2025-05-12 12:25:36,631 - INFO - SFA_ProfileGenerator - [generate_profile:368] - Perfil JSON guardado exitosamente en: output/profiles_sfa3_refined/PER_country_profile.json
2025-05-12 12:25:36,632 - INFO - SFA_ProfileGenerator - [main:415] - Conexión a la base de datos cerrada.
